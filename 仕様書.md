# 勤怠・課題報告アプリ 仕様書

## 1. 概要
スマートフォンからワンタップで出退勤の打刻を行い、管理者のLINEグループへの自動通知およびGoogleスプレッドシートへの記録を行うWebアプリケーション（PWA）です。また、課題完了時の報告機能も備えます。

## 2. 目的
- 研修生の勤怠管理の効率化
- 課題進捗のリアルタイム共有
- スマホからの手軽な操作（ネイティブアプリ感覚）

## 3. 機能要件

### 3.1 必須機能
1.  **出勤打刻**
    - 「出勤」ボタン押下で実行。
    - LINEグループへ出勤通知を送信。
    - スプレッドシートの「打刻記録」シートに出勤情報を記録。
2.  **退勤打刻**
    - 「退勤」ボタン押下で実行。
    - 出勤時刻と退勤時刻から勤務時間を自動計算。
    - LINEグループへ退勤通知（勤務時間含む）を送信。
    - スプレッドシートの「打刻記録」シートに退勤情報と勤務時間を記録。
3.  **課題完了報告**
    - 「課題完了」ボタン押下で実行。
    - 管理者へアプリURLを自動送信（LINE通知に含める）。
    - LINEグループへ完了報告を送信。
    - スプレッドシートの「課題完了記録」シートに記録。
4.  **PWA対応**
    - スマートフォンのホーム画面に追加可能。
    - アドレスバー非表示など、ネイティブアプリのような挙動。

### 3.2 画面仕様
- **メイン画面**
    - 現在時刻表示
    - ユーザー情報表示（研修生ID、氏名）
    - 大きなアクションボタン（出勤、退勤、課題完了）
    - ステータス表示（現在の状態：出勤前、勤務中、退勤済など）

## 4. 技術スタック
- **フロントエンド**: HTML5, CSS3, JavaScript (Vanilla)
- **バックエンド**: Google Apps Script (GAS)
- **データベース**: Google Spreadsheet
- **通知**: LINE Messaging API
- **ホスティング**: GitHub Pages

## 5. データ構造 (Google Spreadsheet)

### シート1: 研修生マスタ
| カラム名 | 説明 | 例 |
| :--- | :--- | :--- |
| 研修生ID | ユニークID | user01 |
| 氏名 | 研修生の名前 | あなたの名前 |
| ステータス | 現在の状態 | 進行中 |

### シート2: 打刻記録
| カラム名 | 説明 | 例 |
| :--- | :--- | :--- |
| 日付 | 打刻日 | 2025/10/05 |
| 研修生ID | ID | user01 |
| 氏名 | 名前 | 田中太郎 |
| 出勤時刻 | HH:mm | 09:05 |
| 退勤時刻 | HH:mm | 18:10 |
| 勤務時間 | 計算結果 | 9時間5分 |

### シート3: 課題完了記録
| カラム名 | 説明 | 例 |
| :--- | :--- | :--- |
| 完了日時 | YYYY/MM/DD HH:mm | 2025/10/05 15:30 |
| 研修生ID | ID | user01 |
| 氏名 | 名前 | 田中太郎 |
| アプリURL | GitHub Pages URL | https://... |
| 判定 | (管理者入力用?) | |

## 6. 通知フォーマット

### 出勤通知
```text
【出勤】
[氏名]
[YYYY/MM/DD HH:mm]
```

### 退勤通知
```text
【退勤】
[氏名]
出勤：[HH:mm]
退勤：[HH:mm]
勤務：[X時間Y分]
```

### 課題完了通知
```text
【🎉課題完了報告🎉】
研修生：[氏名]（[ID]）
完了：[YYYY/MM/DD HH:mm]

アプリURL:
[URL]

確認をお願いします！
```

## 7. 設定情報
- **LINE Channel Access Token**: `WXj/oo03mx57/PmyPd1SBgHtbYiVjuVBXFMZ2j6A3I7mbqrExqWpB4/RRV1b6VUkeUgqA8MV+otTebTk5suCJEWMifIloo6Qc5tddZDbngbEdrC/Z3vnHhKrjvE4+l1Uj5HnvmpDzsrE4vbImkgLBwdB04t89/1O/w1cDnyilFU=`
- **Spreadsheet ID**: (開発時に発行)
- **GAS Web App URL**: (デプロイ時に発行)

## 8. 開発・デプロイフロー
1. Google Spreadsheet作成 & GAS実装
2. LINE Developersコンソール設定 (Webhook URL設定)
3. フロントエンド実装 (HTML/CSS/JS)
4. GitHub Pagesへデプロイ
5. 動作確認
